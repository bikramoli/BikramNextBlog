import Head from 'next/head';
import Navbar from '../Components/Navbar';
import Header from '../Components/Header';
import BlogHeader from '../Components/BlogHeader';
import Footer from '../Components/Footer';
import Tag from '../Components/Tag';
import {datas} from './Data';
import { getAllBlogPosts } from '../Lib/Data';


export const getStaticProps =()=>{
const allBlogs = getAllBlogPosts();
  return{
    props:{
      blogs: allBlogs
    }
  }
}
export default function Home({blogs}) {
  return (
    <>
      <Head>
        <title>Web-Infosys</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <div className='min-h-screen relative bg-white dark:bg-gray-900'>
        <Navbar/>
        <Header/>
        {/* Tag are displayed here... */}
        <div className=" w-full mx-auto text-left md:w-11/12 xl:w-9/12 md:text-center ">
              {datas.map((tag,index) => (
               <Tag key={index} tag={tag}/>
              ))}
            </div>

         {/* vlog header map function */}
         <div className="px-0.5 md:px-7 pb-14 pt-6 mx-auto">
          <div className="flex flex-wrap">
            {blogs.map( (blog)=> {
                return (
                    <>
                        <BlogHeader  
                        key={blog.data.Id}
                        data={blog.data}
                        content={blog.content}
                         />
                        
                    </>
                )
            })}
              
          </div>
        </div>
        <Footer/>
      </div>
    </>
  );
}